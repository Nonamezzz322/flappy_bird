{"version":3,"sources":["variables.js","lead_table.js","menu.js","index.js"],"names":["cvs","document","getElementById","ctx","getContext","pauseBtn","startBtn","reloadBtn","canvasGame","gameBlock","menuBlock","playNow","menuPlay","menuSkins","skinsBlock","menuLeaders","menuLeadersTable","menuExit","nameChange","acceptNameChange","menuEnterGame","menuAccept","menuBack","nickname","afterGame","scoreAfterDiv","highscoreDiv","tableData","backToMenu","leaveGame","setSkin1","setSkin2","setSkin3","setSkin4","pipe","x","width","y","gap","score","bestScore","xPos","yPos","grav","leadArr","pushNick","localStorage","setItem","variables","value","setScoreObj","scoreObj","getItem","Promise","res","rej","then","JSON","stringify","setBestScore","storage","getBestScore","leadTablePush","sortArray","parse","length","push","console","log","splice","sort","a","b","leadTableArr","reverse","leadTableNew","checkLocalStorage","createTable","i","rows","cells","innerText","name","openMenu","style","display","body","overflow","height","touchAction","exitMenu","skinsMenu","backMenu","checkNameButtonActive","enterGame","changeName","reload","requestAnimationFrame","draw","addEventListener","moveUp","sleep","cancelAnimationFrame","animations","removeEventListener","start","gameOver","playMenu","birdLive","leadersMenu","acceptName","acceptChangeName","whereNameInput","e","keyCode","bird","Image","rainbowCat","bg","fg","pipeUp","pipeBottom","fly","Audio","score_audio","failSound","originalEvent","type","scale","preventDefault","currentTime","play","moveUpBird","setInterval","setTimeout","clearInterval","drawImage","Math","floor","random","fillStyle","font","fillText","skinChange","storageSkinKey","src","require","background","className","onkeydown","charCode"],"mappings":"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","file":"src.4233ac72.map","sourceRoot":"..\\src","sourcesContent":["export {\r\n  cvs, \r\n  ctx, \r\n  pauseBtn,\r\n  startBtn,\r\n  reloadBtn,\r\n  canvasGame,\r\n  gameBlock,\r\n  menuBlock,\r\n  playNow,\r\n  menuPlay,\r\n  menuSkins,\r\n  skinsBlock,\r\n  menuLeaders,\r\n  menuLeadersTable,\r\n  menuExit,\r\n  nameChange,\r\n  acceptNameChange,\r\n  menuEnterGame,\r\n  menuAccept,\r\n  menuBack,\r\n  nickname,\r\n  afterGame,\r\n  scoreAfterDiv,\r\n  highscoreDiv,\r\n  tableData,\r\n  backToMenu,\r\n  leaveGame,\r\n  setSkin1,\r\n  setSkin2,\r\n  setSkin3,\r\n  setSkin4,\r\n  pipe,\r\n  gap,\r\n  score,\r\n  bestScore,\r\n  xPos,\r\n  yPos,\r\n  grav\r\n};\r\n\r\nconst cvs = document.getElementById(\"game\");\r\nconst ctx = cvs.getContext(\"2d\");\r\nconst pauseBtn = document.getElementById('pause');\r\nconst startBtn = document.getElementById('start');\r\nconst reloadBtn = document.getElementById('reload');\r\nconst canvasGame = document.getElementById(\"canvas_game\");\r\nconst gameBlock = document.getElementById(\"game_block\");\r\nconst menuBlock = document.getElementById(\"menu_block\");\r\nconst playNow = document.getElementById(\"play_now\");\r\nconst menuPlay = document.getElementById(\"menu_play\");\r\nconst menuSkins = document.getElementById(\"menu_skins\");\r\nconst skinsBlock = document.getElementById(\"skins\");\r\nconst menuLeaders = document.getElementById(\"menu_leaders\");\r\nconst menuLeadersTable = document.getElementById(\"menu_leaders_table\");\r\nconst menuExit = document.getElementById(\"menu_exit\");\r\nconst nameChange = document.getElementById(\"name_change\");\r\nconst acceptNameChange = document.getElementById(\"accept_name_change\");\r\nconst menuEnterGame = document.getElementById(\"menu_enter_name\");\r\nconst menuAccept = document.getElementById(\"menu_accept\");\r\nconst menuBack = document.getElementById(\"back_menu\");\r\nconst nickname = document.getElementById('name');\r\nconst afterGame = document.getElementById(\"after_game\");\r\nconst scoreAfterDiv = document.getElementById(\"score_after\");\r\nconst highscoreDiv = document.getElementById(\"highscore\");\r\nconst tableData = document.getElementById(\"table_data\");\r\nconst backToMenu = document.getElementById(\"back_to_menu\");\r\nconst leaveGame = document.getElementById(\"leave\");\r\nconst setSkin1 = document.getElementById(\"skin_1\");\r\nconst setSkin2 = document.getElementById(\"skin_2\");\r\nconst setSkin3 = document.getElementById(\"skin_3\");\r\nconst setSkin4 = document.getElementById(\"skin_4\");\r\n\r\nlet pipe = [];//массив игрового мира\r\npipe[0] = {\r\n\tx : cvs.width,\r\n\ty : 0\r\n}\r\nlet gap = 90;\r\nlet score = 0;\r\nlet bestScore = 0; //нужна для вывода highScore\r\nlet xPos = 0;\r\nlet yPos = 150;\r\nlet grav = 1.5;","import * as variables from \"./variables\";\r\nexport {pushNick, setScoreObj, setBestScore, getBestScore, createTable, checkLocalStorage};\r\n\r\nlet leadArr = []; // массив лидерборда\r\n\r\nfunction pushNick() { //добавляет ник в LocalStorage \r\n\tlocalStorage.setItem('name', variables.nickname.value);\r\n\tvariables.nickname.value = \"\";\r\n}\r\n\r\nfunction setScoreObj() { //обновляет объект в LocalStorage при изменении счета \r\n\tlet scoreObj = {'name': localStorage.getItem('name', variables.nickname.value), 'score': variables.score};\r\n\tlet promise = new Promise(function(res, rej){\r\n\t\tres(scoreObj)\r\n\t}) \r\n\t\t.then(res => JSON.stringify(res))\r\n\t\t.then(res => localStorage.setItem('scoreObj', res));\r\n}\r\n\r\nfunction setBestScore() { // добавляет highScore\r\n\tlet storage = localStorage.getItem(\"highScore\");\r\n\tif (storage) {\r\n\t\tif (variables.score > storage) {\r\n\t\t\tlocalStorage.setItem(\"highScore\", variables.score);\r\n\t\t}\r\n\t} else {\r\n\t\t\tlocalStorage.setItem(\"highScore\", 0);\r\n\t}\r\n}\t\r\n\r\nfunction getBestScore() { //выводит счетчик highScore\r\n\tlet storage = localStorage.getItem(\"highScore\");\r\n    if (storage) {\r\n      variables.bestScore = storage;\r\n    } else {\r\n      variables.bestScore = 0;\r\n    }\r\n}\r\n\r\nfunction leadTablePush() {  // если в LocalStorage есть ключ 'leadArr' - выполняет пуш\r\n\tsortArray(leadArr);\r\n\r\n\tleadArr = JSON.parse(localStorage.getItem('leadArr'));\r\n\tlet scoreObj = {'name': localStorage.getItem('name', variables.nickname.value), 'score': variables.score};\r\n\tif(variables.score > 0 && leadArr.length <= 4){\r\n\t\tleadArr.push(scoreObj)\r\n\t\tlocalStorage.setItem('leadArr', JSON.stringify(leadArr))\r\n\t} else if (variables.score > leadArr[4].score && leadArr.length > 4 ){\r\n\t\tleadArr.splice(4, 1, scoreObj)\r\n\t\tlocalStorage.setItem('leadArr', JSON.stringify(leadArr))\r\n\t} else {\r\n\t\treturn console.log('you are not worthy to get on the leaderboard')\r\n\t}\r\n\tsortArray();\r\n}\r\n\r\n\r\nfunction sortArray(leadArr) {  //сортировщик по значению\r\n\tleadArr = JSON.parse(localStorage.getItem('leadArr'));\r\n\tleadArr.sort((a,b) => (a.score > b.score) ? 1 : ((b.score > a.score) ? -1 : 0))\r\n\tlet leadTableArr = leadArr.reverse();\r\n\tlocalStorage.setItem('leadArr', JSON.stringify(leadTableArr))\r\n}\r\n\r\nfunction leadTableNew() { // если в LocalStorage нет ключа 'leadArr' - создает его с текущими данными\r\n\tlet scoreObj = {'name': localStorage.getItem('name', variables.nickname.value), 'score': variables.score};\r\n\tleadArr.push(scoreObj)\r\n\tlet promise = new Promise(function(res, rej) {\r\n\t\tres(leadArr)\r\n\t}) \r\n\t\t.then(res => JSON.stringify(res))\r\n\t\t.then(res => localStorage.setItem('leadArr', res))\r\n}\r\n\r\nfunction checkLocalStorage() { // проверяет LocalStorage на наличие нужного ключа.\r\n\tif (localStorage.getItem('leadArr') !== null) {\r\n\t\tleadTablePush();\r\n\t} else {\r\n\t\tleadTableNew();\r\n\t}\r\n}\r\n\r\nfunction createTable() {\r\n\tleadArr = JSON.parse(localStorage.getItem('leadArr'));\r\n\tif(leadArr) {\t\r\n\t\tfor (let i = 0; i < leadArr.length; i += 1) {\r\n\t\t\tvariables.tableData.rows[i+1].cells[0].innerText = leadArr[i].name;\r\n\t\t\tvariables.tableData.rows[i+1].cells[1].innerText = leadArr[i].score;\r\n\t\t}\r\n\t}\r\n}","import * as variables from \"./variables\";\r\nimport {draw, animations, moveUp, skinChange, birdLive} from \"./index\";\r\nimport {checkLocalStorage, createTable, pushNick} from \"./lead_table\";\r\nexport {openMenu, exitMenu, skinsMenu, backMenu,\r\n  changeName, reload, sleep, start, gameOver, playMenu, \r\n  leadersMenu, acceptName, acceptChangeName, checkNameButtonActive, whereNameInput};\r\n\r\nfunction openMenu() {\r\n\tvariables.gameBlock.style.display = \"block\";\r\n\tdocument.body.style.overflow = \"hidden\";\r\n\tdocument.body.style.height = \"100%\";\r\n\tdocument.body.touchAction = \"manipulation\";\r\n}\r\n\r\nfunction exitMenu() {\r\n\tvariables.gameBlock.style.display = \"none\";\r\n\tdocument.body.style.overflow = \"auto\";\r\n\tdocument.body.touchAction = \"auto\";\r\n}\r\n\r\nfunction skinsMenu() {\r\n\tvariables.menuPlay.style.display = \"none\";\r\n\tvariables.menuSkins.style.display = \"none\";\r\n\tvariables.menuLeaders.style.display = \"none\";\r\n\tvariables.menuExit.style.display = \"none\";\r\n\tvariables.nameChange.style.display = \"none\";\r\n\tvariables.menuBack.style.display = \"block\";\r\n\tvariables.skinsBlock.style.display = \"block\";\r\n}\r\n\r\nfunction backMenu() {\r\n\tvariables.menuEnterGame.style.display = \"none\";\r\n\tvariables.menuBack.style.display = \"none\";\r\n\tvariables.menuLeadersTable.style.display = \"none\";\r\n\tvariables.canvasGame.style.display = \"none\";\r\n\tvariables.afterGame.style.display = \"none\";\r\n\tvariables.menuAccept.style.display = \"none\";\r\n\tvariables.acceptNameChange.style.display = \"none\";\r\n\tvariables.skinsBlock.style.display = \"none\";\r\n\tvariables.menuBlock.style.display = \"block\";\r\n\tvariables.menuPlay.style.display = \"block\";\r\n\tvariables.menuSkins.style.display = \"block\";\r\n\tvariables.menuLeaders.style.display = \"block\";\r\n\tvariables.menuExit.style.display = \"block\";\r\n\tcheckNameButtonActive();\r\n}\r\n\r\nfunction enterGame() {\r\n\tvariables.pipe = [];\r\n\tvariables.pipe[0] = {\r\n\t\tx : variables.cvs.width,\r\n\t\ty : 0\r\n\t}\r\n\tvariables.score = 0;\r\n\tvariables.xPos = 10;\r\n\tvariables.yPos = 150;\r\n\r\n\tvariables.menuBlock.style.display = \"none\";\r\n\tvariables.canvasGame.style.display = \"block\";\r\n\tvariables.afterGame.style.display = \"none\";\r\n}\r\n\r\nfunction changeName() {\r\n\tvariables.menuPlay.style.display = \"none\";\r\n\tvariables.menuSkins.style.display = \"none\";\r\n\tvariables.menuLeaders.style.display = \"none\";\r\n\tvariables.menuExit.style.display = \"none\";\r\n\tvariables.nameChange.style.display = \"none\";\r\n\tvariables.menuEnterGame.style.display = \"block\";\r\n\tvariables.acceptNameChange.style.display = \"block\";\r\n\tvariables.menuBack.style.display = \"block\";\t\r\n}\r\n\r\nfunction reload() { //должна перезагружать страницу\r\n\tvariables.pipe = [];\r\n\tvariables.pipe[0] = {\r\n\t\tx : variables.cvs.width,\r\n\t\ty : 0\r\n\t}\r\n\tvariables.score = 0;\r\n\tvariables.xPos = 10;\r\n\tvariables.yPos = 150;\r\n\r\n\tvariables.canvasGame.style.display = \"block\";\r\n\tvariables.afterGame.style.display = \"none\";\r\n\tvariables.pauseBtn.style.display = \"block\";\r\n\tvariables.startBtn.style.display = \"none\";\r\n\trequestAnimationFrame(draw);\r\n\tdocument.addEventListener(\"keydown\", moveUp);\r\n}\r\n\r\nfunction sleep() {\r\n\tcancelAnimationFrame(animations);\r\n\tvariables.startBtn.style.display = \"block\";\r\n\tvariables.leaveGame.style.display = \"block\";\r\n\tvariables.pauseBtn.style.display = \"none\";\r\n\tdocument.removeEventListener(\"keydown\", moveUp);\r\n}\r\n\r\nfunction start() {\r\n\trequestAnimationFrame(draw);\r\n\tvariables.startBtn.style.display = \"none\";\r\n\tvariables.leaveGame.style.display = \"none\";\r\n\tvariables.pauseBtn.style.display = \"block\";\r\n\tdocument.addEventListener(\"keydown\", moveUp);\r\n}\r\n\r\nfunction gameOver() {  //функция вызываемая после столкновения\r\n\tcancelAnimationFrame(animations);\r\n\tskinChange();\r\n\tif(variables.score > 0){\r\n\t\tcheckLocalStorage();\r\n\t}\t\r\n\tvariables.canvasGame.style.display = \"none\";\r\n\tvariables.startBtn.style.display = \"none\";\r\n\tvariables.leaveGame.style.display = \"none\";\r\n\tvariables.pauseBtn.style.display = \"block\";\r\n\tvariables.afterGame.style.display = \"block\";\r\n\tvariables.scoreAfterDiv.innerText = `${variables.score}`;\r\n\tif(variables.score == variables.bestScore) {\r\n\t\tvariables.highscoreDiv.innerText = `New best: \r\n\t\t${variables.bestScore}`;\r\n\t} else if(variables.score < variables.bestScore) {\r\n\t\tvariables.highscoreDiv.innerText = `Best: \r\n\t\t${variables.bestScore}`;\r\n\t} else if(variables.bestScore === 0) {\r\n\t\tvariables.highscoreDiv.innerText = `New best: \r\n\t\t${variables.score}`;\r\n\t} else if(variables.score === 1) {\r\n\t\tvariables.highscoreDiv.innerText = `New best: \r\n\t\t${variables.score}`;\r\n\t}\r\n\tdocument.removeEventListener(\"keydown\", moveUp);\r\n}\r\n\r\nfunction playMenu() {\r\n\tskinChange();\r\n\tvariables.menuPlay.style.display = \"none\";\r\n\tvariables.menuSkins.style.display = \"none\";\r\n\tvariables.menuLeaders.style.display = \"none\";\r\n\tvariables.menuExit.style.display = \"none\";\r\n\tvariables.nameChange.style.display = \"none\";\r\n\tif(localStorage.getItem('name')){\r\n\t\tif(birdLive === true) {\r\n\t\t\trequestAnimationFrame(draw);\r\n\t\t}\r\n\t\tenterGame();\r\n\t} else {\r\n\t\tvariables.menuEnterGame.style.display = \"block\";\r\n\t\tvariables.menuAccept.style.display = \"block\";\r\n\t\tvariables.menuBack.style.display = \"block\";\r\n\t}\r\n\tif(birdLive === false){\r\n\t\treload();\r\n\t}\r\n}\r\n\r\nfunction leadersMenu() {\r\n\tvariables.menuPlay.style.display = \"none\";\r\n\tvariables.menuSkins.style.display = \"none\";\r\n\tvariables.menuLeaders.style.display = \"none\";\r\n\tvariables.menuExit.style.display = \"none\";\r\n\tvariables.nameChange.style.display = \"none\";\r\n\tvariables.menuBack.style.display = \"block\";\r\n\tvariables.menuLeadersTable.style.display = \"block\";\r\n\tcreateTable();\r\n}\r\n\r\nfunction acceptName() {\r\n\tif (variables.nickname.value) {\r\n\t\tpushNick();\r\n\t\tenterGame();\r\n\t\trequestAnimationFrame(draw);\r\n\t}\r\n}\r\n\r\nfunction acceptChangeName() {\r\n\tif (variables.nickname.value) {\r\n\t\tpushNick();\r\n\t\tbackMenu();\r\n\t}\r\n}\r\n\r\nfunction checkNameButtonActive() {\r\n\tif (localStorage.getItem(\"name\")) {\r\n\t\tvariables.nameChange.style.display = \"block\";\r\n\t} else {\r\n\t\tvariables.nameChange.style.display = \"none\";\r\n\t}\r\n}\r\n\r\nfunction whereNameInput(e){\r\n\tif (e.keyCode === 13 && localStorage.getItem(\"name\")){\r\n\t\tacceptChangeName();\r\n\t} else if (e.keyCode === 13 && !localStorage.getItem(\"name\")) {\r\n\t\tacceptName();\r\n\t}\r\n}","import {openMenu, exitMenu, skinsMenu, backMenu, changeName, \r\n\treload, sleep, start, gameOver, playMenu, \r\n\tleadersMenu, acceptName, acceptChangeName, checkNameButtonActive, whereNameInput} from \"./menu\";\r\nimport {setScoreObj, setBestScore, getBestScore} from \"./lead_table\";\r\nimport * as variables from \"./variables\";\r\nexport {draw, animations, moveUp, skinChange, birdLive};\r\n\r\nlet bird = new Image();\r\nlet rainbowCat = new Image();\r\nlet bg = new Image();\r\nlet fg = new Image();\r\nlet pipeUp = new Image();\r\nlet pipeBottom = new Image();\r\nlet fly = new Audio();\r\nlet score_audio = new Audio();\r\nlet failSound = new Audio();\r\nlet animations;\r\nlet birdLive = true; //проверяет мертва ли птичка сейчас\r\n\r\nscore_audio.src = require('../assets/audio/score.mp3');\r\nfailSound.src =  require('../assets/audio//fail.mp3');\r\n\r\n\r\ngetBestScore();\r\nskinChange();\r\ncheckNameButtonActive();\r\n\r\nfunction moveUp(e) {\r\n\te = e.originalEvent || e;\r\n\tif(e.type == \"touchmove\" || e.scale >= 1 ){\r\n\t\te.preventDefault();\r\n\t}\r\n\tif ((e.keyCode === 32 || e.type == \"touchstart\") && variables.yPos > 30) {\r\n\t\tfly.currentTime = 0;\r\n\t\tfly.play();\r\n\t\tif(e.keyCode === 32) {\r\n\t\t\tlet moveUpBird = setInterval(() => variables.yPos -= variables.grav + 2.5, 1) //плавная анимация птички\r\n\t\t\tsetTimeout(() => clearInterval(moveUpBird), 30)\t\r\n\t\t} else if (e.type == \"touchstart\") {\r\n\t\t\tvariables.yPos -= 30;\r\n\t\t} else if (e.type == \"click\") {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvariables.yPos -= 30;\r\n\t\t}\t\r\n\t}\r\n}\r\n\r\nfunction draw() {\r\n\tvariables.ctx.drawImage(bg, 0, 0);\r\n\r\n\tfor (let i = 0; i < variables.pipe.length; i += 1) {\r\n\t\tvariables.ctx.drawImage(pipeUp, variables.pipe[i].x, variables.pipe[i].y);\r\n\t\tvariables.ctx.drawImage(pipeBottom, variables.pipe[i].x, variables.pipe[i].y + pipeUp.height + variables.gap);\r\n\r\n\t\tvariables.pipe[i].x -= 1;\r\n\r\n\t\tif (variables.pipe[i].x == 105) {\r\n\t\t\tvariables.pipe.push({\r\n\t\t\t\tx : variables.cvs.width,\r\n\t\t\t\ty : Math.floor(Math.random() * pipeUp.height) - pipeUp.height\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (variables.xPos + bird.width >= variables.pipe[i].x\r\n\t\t\t&& variables.xPos <= variables.pipe[i].x + pipeUp.width\r\n\t\t\t&& (variables.yPos <= variables.pipe[i].y + pipeUp.height\r\n\t\t\t|| variables.yPos + bird.height >= variables.pipe[i].y + pipeUp.height + variables.gap) \r\n\t\t\t|| variables.yPos + bird.height >= variables.cvs.height - fg.height) {\r\n\r\n\t\t\tfailSound.play();\r\n\t\t\tbirdLive = false;\r\n\t\t\trequestAnimationFrame(gameOver);\r\n\t\t}\r\n\r\n\t\tif (variables.pipe[i].x == 5) {\r\n\t\t\tvariables.score += 1;\r\n\t\t\tsetScoreObj()\r\n\t\t\tsetBestScore()\r\n\t\t\tgetBestScore()\r\n\t\t\tscore_audio.play();\r\n\t\t}\r\n\t}\r\n\r\n\tif(JSON.parse(localStorage.getItem('skinKey')) === 4) {\r\n\t\tvariables.ctx.drawImage(rainbowCat, variables.xPos - 39, variables.yPos - 2);\r\n\t}\r\n\r\n\tvariables.ctx.drawImage(fg, 0, variables.cvs.height - fg.height);\r\n\tvariables.ctx.drawImage(bird, variables.xPos, variables.yPos);\r\n\r\n\t\r\n\tvariables.yPos += variables.grav;\r\n\r\n\tvariables.ctx.fillStyle = \"#000\";\r\n\tvariables.ctx.font = \"2.5rem Caveat\";\r\n\tvariables.ctx.fillText(\"Score: \" + variables.score, 10, variables.cvs.height - 20);\r\n\t\r\n\tanimations = requestAnimationFrame(draw);\r\n}\r\n\r\nfunction skinChange() {\r\n\tconst storageSkinKey = JSON.parse(localStorage.getItem('skinKey'));\r\n\tif (storageSkinKey === 1 || !storageSkinKey) {\r\n\t\tbird.src = require('../assets/img/bird.png');\r\n\t\tbg.src = require('../assets/img/bg.jpg');\r\n\t\tfg.src = require('../assets/img/fg.jpg');\r\n\t\tpipeUp.src = require('../assets/img/pipeUp.png');\r\n\t\tpipeBottom.src = require('../assets/img/pipeBottom.png');\r\n\t\tvariables.menuBlock.style.background = `url(${require('../assets/img/bg.jpg')}`;\r\n\t\tvariables.afterGame.style.background = `url(${require('../assets/img/bg.jpg')} `;\r\n\t\tfly.src = require('../assets/audio/fly.mp3');\r\n\t\tvariables.setSkin1.className = \"active\";\r\n\t\tvariables.setSkin2.className = \"\";\r\n\t\tvariables.setSkin3.className = \"\";\r\n\t\tvariables.setSkin4.className = \"\";\r\n\t} else if (storageSkinKey === 2) {\r\n\t\tbird.src = require('../assets/img/birdGray.png');\r\n\t\tbg.src = require('../assets/img/bgGray.jpg');\r\n\t\tfg.src = require('../assets/img/fgGray.jpg');\r\n\t\tpipeUp.src = require('../assets/img/pipeUpGray.png');\r\n\t\tpipeBottom.src = require('../assets//img/pipeBottomGray.png');\r\n\t\tvariables.menuBlock.style.background = `url(${require('../assets/img/bgGray.jpg')}`;\r\n\t\tvariables.afterGame.style.background = `url(${require('../assets/img/bgGray.jpg')}`;\r\n\t\tfly.src = require('../assets//audio/fly.mp3');\r\n\t\tvariables.setSkin1.className = \"\";\r\n\t\tvariables.setSkin2.className = \"active\";\r\n\t\tvariables.setSkin3.className = \"\";\r\n\t\tvariables.setSkin4.className = \"\";\r\n\t} else if (storageSkinKey === 3) {\r\n\t\tbird.src = require('../assets/img/bird3.png');\r\n\t\tbg.src = require('../assets/img/bg3.jpg');\r\n\t\tfg.src = require('../assets/img/fg3.jpg');\r\n\t\tpipeUp.src = require('../assets/img/pipeUpOrange.png');\r\n\t\tpipeBottom.src = require('../assets/img/pipeBottomOrange.png');\r\n\t\tvariables.menuBlock.style.background = `url(${require('../assets/img/bg3.jpg')}`;\r\n\t\tvariables.afterGame.style.background = `url(${require('../assets/img/bg3.jpg')}`;\r\n\t\tfly.src = require('../assets/audio/fly.mp3');\r\n\t\tvariables.setSkin1.className = \"\";\r\n\t\tvariables.setSkin2.className = \"\";\r\n\t\tvariables.setSkin3.className = \"active\";\r\n\t\tvariables.setSkin4.className = \"\";\r\n\t} else if (storageSkinKey === 4) {\r\n\t\tbird.src = require('../assets/img/birdCat.png');\r\n\t\trainbowCat.src = require('../assets/img/rainbow_cat.png');\r\n\t\tbg.src = require('../assets/img/bgSpace.jpg');\r\n\t\tfg.src = require('../assets/img/fgRainbow.png');\r\n\t\tpipeUp.src = require('../assets/img/pipeUpPink.png');\r\n\t\tpipeBottom.src = require('../assets/img/pipeBottomPink.png');\r\n\t\tvariables.menuBlock.style.background = `url(${require('../assets/img/bgSpace.jpg')}`;\r\n\t\tvariables.afterGame.style.background = `url(${require('../assets/img/bgSpace.jpg')}`;\r\n\t\tfly.src = require('../assets/audio/skin_4.mp3');\r\n\t\tvariables.setSkin1.className = \"\";\r\n\t\tvariables.setSkin2.className = \"\";\r\n\t\tvariables.setSkin3.className = \"\";\r\n\t\tvariables.setSkin4.className = \"active\";\r\n\t}\t\r\n}\r\n\r\n\r\ndocument.onkeydown = function(e) { // убирает скролл страницы при нажатии на пробел.\r\n\tlet keyCode = e.keyCode || e.charCode;\r\n\tif (keyCode == 32) \r\n\te.preventDefault();\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", moveUp);\r\nvariables.canvasGame.addEventListener(\"touchstart\", moveUp);\r\nvariables.canvasGame.addEventListener(\"touchmove\", moveUp);\r\nvariables.pauseBtn.addEventListener(\"click\", sleep);\r\nvariables.startBtn.addEventListener(\"click\", start);\r\nvariables.reloadBtn.addEventListener(\"click\", reload);\r\nvariables.playNow.addEventListener('click', openMenu);\r\nvariables.menuPlay.addEventListener('click', playMenu);\r\nvariables.menuSkins.addEventListener('click', skinsMenu);\r\nvariables.menuLeaders.addEventListener('click', leadersMenu);\r\nvariables.menuExit.addEventListener('click', exitMenu);\r\nvariables.menuBack.addEventListener('click', backMenu);\r\nvariables.backToMenu.addEventListener('click', backMenu);\r\nvariables.leaveGame.addEventListener('click', gameOver);\r\nvariables.menuAccept.addEventListener('click', acceptName);\r\nvariables.nameChange.addEventListener('click', changeName);\r\nvariables.acceptNameChange.addEventListener('click', acceptChangeName);\r\nvariables.nickname.addEventListener('keydown', whereNameInput);\r\n\r\nvariables.setSkin1.addEventListener(\"click\", () => {\r\n\tJSON.stringify(localStorage.setItem('skinKey', 1));\r\n\tskinChange();\r\n});\r\nvariables.setSkin2.addEventListener(\"click\", () => {\r\n\tJSON.stringify(localStorage.setItem('skinKey', 2));\r\n\tskinChange();\r\n});\r\nvariables.setSkin3.addEventListener(\"click\", () => {\r\n\tJSON.stringify(localStorage.setItem('skinKey', 3));\r\n\tskinChange();\r\n});\r\nvariables.setSkin4.addEventListener(\"click\", () => {\r\n\tJSON.stringify(localStorage.setItem('skinKey', 4));\r\n\tskinChange();\r\n});\r\n\r\n\r\n"]}